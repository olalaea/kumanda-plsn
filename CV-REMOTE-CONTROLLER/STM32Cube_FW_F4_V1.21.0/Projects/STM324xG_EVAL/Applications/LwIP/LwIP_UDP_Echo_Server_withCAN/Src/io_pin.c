/*
 * io_pin.c
 *
 *  Created on: 8 May 2018
 *      Author: USER
 */

#include "io_config.h"
#include "io_pin.h"

DIGITAL_IO_PIN HEADLIGHTS;		DIGITAL_IO_PIN IR_LIGHTS;					DIGITAL_IO_PIN TAIL_LIGHTS;		DIGITAL_IO_PIN HAZARD_LIGHTS;
DIGITAL_IO_PIN IGNITION;			DIGITAL_IO_PIN MANUAL_OVERRIDE;		DIGITAL_IO_PIN HAND_BRAKE;		DIGITAL_IO_PIN GEAR_D;
DIGITAL_IO_PIN GEAR_N;				DIGITAL_IO_PIN GEAR_R;						DIGITAL_IO_PIN GEAR_P;	DIGITAL_IO_PIN ENGINE_STARTER;
DIGITAL_IO_PIN SIGNAL_RIGHT;	DIGITAL_IO_PIN SIGNAL_LEFT;			

DIGITAL_IO_PIN LED_GEAR_P;	DIGITAL_IO_PIN LED_GEAR_D;			DIGITAL_IO_PIN LED_GEAR_R;
DIGITAL_IO_PIN LED_GEAR_N;	DIGITAL_IO_PIN BLINK;

ANALOG_IO_PIN STEERING;				ANALOG_IO_PIN ACCEL_BRAKE;	
USART2_GPIO_PIN USART2_Tx; 		USART2_GPIO_PIN USART2_Rx;
CAN_IO_PIN CAN1_Tx;						CAN_IO_PIN CAN1_Rx;

void CREATE_DIGITAL_IN_PIN(void){ //16 adet digital_in mevcut
	HEADLIGHTS.PORT = GPIOB; 				HEADLIGHTS.PIN = GPIO_PIN_15;		
	IR_LIGHTS.PORT = GPIOB; 				IR_LIGHTS.PIN = GPIO_PIN_14;		
	TAIL_LIGHTS.PORT = GPIOB; 			TAIL_LIGHTS.PIN = GPIO_PIN_10;		
	HAZARD_LIGHTS.PORT = GPIOE; 		HAZARD_LIGHTS.PIN = GPIO_PIN_15;	
	IGNITION.PORT = GPIOE; 					IGNITION.PIN = GPIO_PIN_14;		
	MANUAL_OVERRIDE.PORT = GPIOE; 	MANUAL_OVERRIDE.PIN = GPIO_PIN_13;		
	HAND_BRAKE.PORT = GPIOE; 				HAND_BRAKE.PIN = GPIO_PIN_12;			
	GEAR_D.PORT = GPIOE; 						GEAR_D.PIN = GPIO_PIN_11;		
	GEAR_N.PORT = GPIOE; 						GEAR_N.PIN = GPIO_PIN_10;		
	GEAR_R.PORT = GPIOE; 						GEAR_R.PIN = GPIO_PIN_9;		
	GEAR_P.PORT = GPIOE; 						GEAR_P.PIN = GPIO_PIN_8;			
	ENGINE_STARTER.PORT = GPIOE;		ENGINE_STARTER.PIN = GPIO_PIN_7;	
	SIGNAL_RIGHT.PORT = GPIOE; 			SIGNAL_RIGHT.PIN = GPIO_PIN_6;	
	SIGNAL_LEFT.PORT = GPIOE; 			SIGNAL_LEFT.PIN = GPIO_PIN_5;	
}

void CREATE_DIGITAL_OUT_PIN(void){ // SEMATIKTE MCU_BUT_LED OLARAK GOSTERILMISTIR.
	LED_GEAR_P.PORT = GPIOD; 			LED_GEAR_P.PIN = GPIO_PIN_8;
	LED_GEAR_N.PORT = GPIOD; 			LED_GEAR_N.PIN = GPIO_PIN_9;
	LED_GEAR_D.PORT = GPIOD; 			LED_GEAR_D.PIN = GPIO_PIN_10;
	LED_GEAR_R.PORT = GPIOD; 			LED_GEAR_R.PIN = GPIO_PIN_11;
	BLINK.PORT = GPIOE; 					BLINK.PIN = GPIO_PIN_2;
}

void CREATE_ANALOG_PIN(void){
	STEERING.PORT = GPIOA;			STEERING.PIN = GPIO_PIN_0; 		//MCU_AN_IN1
	ACCEL_BRAKE.PORT = GPIOA; 	ACCEL_BRAKE.PIN = GPIO_PIN_3; //MCU_AN_IN2
}

void CREATE_USART2_PIN(void){
	USART2_Tx.PORT = GPIOD;			USART2_Tx.PIN = GPIO_PIN_5;
	USART2_Rx.PORT = GPIOD;			USART2_Rx.PIN = GPIO_PIN_6;
}

void CREATE_CAN_PIN(void){
	CAN1_Tx.PORT = GPIOD;			CAN1_Tx.PIN = GPIO_PIN_1;
	CAN1_Rx.PORT = GPIOD;			CAN1_Rx.PIN = GPIO_PIN_0;
}
